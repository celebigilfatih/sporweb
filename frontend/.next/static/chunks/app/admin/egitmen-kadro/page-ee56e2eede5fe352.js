(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7996],{7674:(e,a,t)=>{Promise.resolve().then(t.bind(t,8067))},8067:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var i=t(5155),r=t(2115),n=t(9329),s=t(5037);function o(){let[e,a]=(0,r.useState)([]),[t,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)({name:"",position:"",qualification:"",image:""}),[g,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{o(!0);let e=await n.H.getAbout();a(e.trainers||[])}catch(e){console.error("Eğitmenler y\xfcklenirken hata:",e),s.oR.error("Eğitmenler y\xfcklenirken hata oluştu")}finally{o(!1)}},b=async e=>{if(e.preventDefault(),!m.name||!m.position||!m.qualification){s.oR.error("L\xfctfen t\xfcm alanları doldurun");return}try{if(d){if(g){let e=new FormData;e.append("name",m.name),e.append("position",m.position),e.append("qualification",m.qualification),e.append("image",g),await n.H.updateTrainerWithImage(d._id,e)}else await n.H.updateTrainer(d._id,{name:m.name,position:m.position,qualification:m.qualification,image:m.image});s.oR.success("Eğitmen başarıyla g\xfcncellendi")}else{if(g){let e=new FormData;e.append("name",m.name),e.append("position",m.position),e.append("qualification",m.qualification),e.append("image",g),await n.H.addTrainerWithImage(e)}else await n.H.addTrainer({name:m.name,position:m.position,qualification:m.qualification,image:m.image||"/images/default-trainer.jpg"});s.oR.success("Eğitmen başarıyla eklendi")}p({name:"",position:"",qualification:"",image:""}),h(null),c(!1),u(null),x()}catch(e){console.error("Eğitmen kaydedilirken hata:",e),s.oR.error("Eğitmen kaydedilirken hata oluştu")}},f=e=>{u(e),p({name:e.name,position:e.position,qualification:e.qualification,image:e.image}),c(!0)},y=async e=>{if(confirm("Bu eğitmeni silmek istediğinizden emin misiniz?"))try{await n.H.deleteTrainer(e),s.oR.success("Eğitmen başarıyla silindi"),x()}catch(e){console.error("Eğitmen silinirken hata:",e),s.oR.error("Eğitmen silinirken hata oluştu")}};return t?(0,i.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Eğitmen Kadrosu Y\xf6netimi"}),(0,i.jsx)("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"+ Eğitmen Ekle"})]}),l&&(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:d?"Eğitmen D\xfczenle":"Yeni Eğitmen Ekle"}),(0,i.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad Soyad"}),(0,i.jsx)("input",{type:"text",value:m.name,onChange:e=>p({...m,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pozisyon"}),(0,i.jsx)("input",{type:"text",value:m.position,onChange:e=>p({...m,position:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\xd6rn: Baş Antren\xf6r, Yardımcı Antren\xf6r",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yeterlilik/Sertifika"}),(0,i.jsx)("input",{type:"text",value:m.qualification,onChange:e=>p({...m,qualification:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\xd6rn: UEFA A Lisans, TFF B Lisans",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fotoğraf"}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;return h((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!g&&!d&&(0,i.jsx)("input",{type:"url",value:m.image,onChange:e=>p({...m,image:e.target.value}),placeholder:"Veya fotoğraf URL'si girin",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:d?"G\xfcncelle":"Ekle"}),(0,i.jsx)("button",{type:"button",onClick:()=>{p({name:"",position:"",qualification:"",image:""}),h(null),c(!1),u(null)},className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"İptal"})]})]})]}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-md",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Mevcut Eğitmenler"}),0===e.length?(0,i.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz eğitmen eklenmemiş."}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("img",{src:e.image||"/images/default-trainer.jpg",alt:e.name,className:"w-16 h-16 rounded-full object-cover",onError:e=>{e.target.src="/images/default-trainer.jpg"}}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-800",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.position}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:e.qualification})]})]}),(0,i.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,i.jsx)("button",{onClick:()=>f(e),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition-colors",children:"D\xfczenle"}),(0,i.jsx)("button",{onClick:()=>y(e._id),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition-colors",children:"Sil"})]})]},e._id))})]})})]})}},172:(e,a,t)=>{"use strict";t.d(a,{C:()=>r,H:()=>i});let i="http://localhost:5001/api",r="http://localhost:5001"},9329:(e,a,t)=>{"use strict";t.d(a,{H:()=>r});var i=t(2649);let r={getAbout:async()=>(await i.A.get("/about")).data,updateAbout:async e=>(await i.A.put("/about",e)).data,addTrainer:async e=>(await i.A.post("/about/trainers",e)).data,addTrainerWithImage:async e=>(await i.A.post("/about/trainers/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data,updateTrainer:async(e,a)=>(await i.A.put("/about/trainers/".concat(e),a)).data,updateTrainerWithImage:async(e,a)=>(await i.A.put("/about/trainers/".concat(e,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}})).data,deleteTrainer:async e=>{await i.A.delete("/about/trainers/".concat(e))}}},2649:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var i=t(2651),r=t(172);let n=i.A.create({baseURL:r.H,timeout:1e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let a=localStorage.getItem("token");a&&(e.headers.Authorization="Bearer ".concat(a))}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),n.interceptors.response.use(e=>(console.log("API Success:",e.config.url,e.status),e),e=>{var a,t,r;return i.A.isCancel(e)?(console.log("Request cancelled:",e.message),Promise.reject(Error("Request was cancelled"))):"ERR_NETWORK"===e.code?(console.error("Network error - backend server may be down"),Promise.reject(Error("Network error - please check if the server is running"))):"ECONNABORTED"===e.code?(console.error("Request timeout"),Promise.reject(Error("Request timeout - server is taking too long to respond"))):(console.error("API Error Details:",{url:null===(a=e.config)||void 0===a?void 0:a.url,method:null===(t=e.config)||void 0===t?void 0:t.method,status:null===(r=e.response)||void 0===r?void 0:r.status,message:e.message,code:e.code}),Promise.reject(e))});let s=n}},e=>{var a=a=>e(e.s=a);e.O(0,[2651,5037,8441,1517,7358],()=>a(7674)),_N_E=e.O()}]);