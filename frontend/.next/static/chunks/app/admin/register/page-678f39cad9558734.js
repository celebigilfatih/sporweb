(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8266],{2900:(e,r,a)=>{Promise.resolve().then(a.bind(a,4387))},6046:(e,r,a)=>{"use strict";var t=a(6658);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}})},4387:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(5155),s=a(2115),o=a(6046),n=a(5565),l=a(8173),i=a.n(l),d=a(4144),c=a(5037);function u(){let e=(0,o.useRouter)(),[r,a]=(0,s.useState)({username:"",password:"",confirmPassword:"",name:"",email:""}),[l,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),p=e=>{let{name:r,value:t}=e.target;a(e=>({...e,[r]:t}))},g=async a=>{if(a.preventDefault(),h(!0),u(""),!r.username||!r.password||!r.name||!r.email){u("T\xfcm alanlar zorunludur"),h(!1);return}if(r.password!==r.confirmPassword){u("Şifreler eşleşmiyor"),h(!1);return}if(r.password.length<6){u("Şifre en az 6 karakter olmalıdır"),h(!1);return}try{let{username:a,password:t,name:s,email:o}=r;await d.y.register({username:a,password:t,name:s,email:o}),c.oR.success("Kayıt başarıyla tamamlandı! Giriş yapabilirsiniz."),e.push("/admin/login")}catch(e){var t,s;console.error("Registration failed:",e),u((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Kayıt olurken bir hata oluştu")}finally{h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mx-auto h-12 w-auto flex justify-center",children:(0,t.jsx)(n.default,{src:"/logo.png",alt:"Football School Logo",width:48,height:48,className:"h-12 w-auto"})}),(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Y\xf6netici Kayıt"}),(0,t.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Zaten hesabınız var mı?"," ",(0,t.jsx)(i(),{href:"/admin/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Giriş yapın"})]})]}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[(0,t.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Ad Soyad"}),(0,t.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Ad Soyad",value:r.name,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Kullanıcı Adı"}),(0,t.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kullanıcı Adı",value:r.username,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"sr-only",children:"E-posta"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"E-posta",value:r.email,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Şifre"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Şifre",value:r.password,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Şifre Tekrar"}),(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Şifre Tekrar",value:r.confirmPassword,onChange:p})]})]}),l&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:l})})})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Kayıt Olunuyor...":"Kayıt Ol"})})]})]})})}},172:(e,r,a)=>{"use strict";a.d(r,{C:()=>s,H:()=>t});let t="http://localhost:5001/api",s="http://localhost:5001"},2649:(e,r,a)=>{"use strict";a.d(r,{A:()=>n});var t=a(2651),s=a(172);let o=t.A.create({baseURL:s.H,timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),o.interceptors.response.use(e=>(console.log("API Success:",e.config.url,e.status),e),e=>{var r,a,s;return t.A.isCancel(e)?(console.log("Request cancelled:",e.message),Promise.reject(Error("Request was cancelled"))):"ERR_NETWORK"===e.code?(console.error("Network error - backend server may be down"),Promise.reject(Error("Network error - please check if the server is running"))):"ECONNABORTED"===e.code?(console.error("Request timeout"),Promise.reject(Error("Request timeout - server is taking too long to respond"))):(console.error("API Error Details:",{url:null===(r=e.config)||void 0===r?void 0:r.url,method:null===(a=e.config)||void 0===a?void 0:a.method,status:null===(s=e.response)||void 0===s?void 0:s.status,message:e.message,code:e.code}),Promise.reject(e))});let n=o},4144:(e,r,a)=>{"use strict";a.d(r,{y:()=>s});var t=a(2649);let s={login:async e=>{let r=await t.A.post("/auth/login",e),{token:a,admin:s}=r.data;return localStorage.setItem("token",a),localStorage.setItem("admin",JSON.stringify(s)),t.A.defaults.headers.common.Authorization="Bearer ".concat(a),r.data},register:async e=>(await t.A.post("/auth/register",e)).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("admin"),delete t.A.defaults.headers.common.Authorization},getProfile:async()=>(await t.A.get("/auth/profile")).data,changePassword:async e=>(await t.A.post("/auth/change-password",e)).data,createAdmin:async e=>(await t.A.post("/auth/create",e)).data,getAllAdmins:async()=>{try{return(await t.A.get("/auth/admins")).data}catch(e){throw e.response&&403===e.response.status&&console.error("Yetki hatası: Superadmin rol\xfcne sahip değilsiniz"),e}},getAdminById:async e=>(await t.A.get("/auth/admins/".concat(e))).data,updateAdmin:async(e,r)=>(await t.A.put("/auth/admins/".concat(e),r)).data,deleteAdmin:async e=>{await t.A.delete("/auth/admins/".concat(e))},initializeAuth:()=>{let e=localStorage.getItem("token");e&&(t.A.defaults.headers.common.Authorization="Bearer ".concat(e))},getStoredAdmin:()=>{let e=localStorage.getItem("admin");return e?JSON.parse(e):null},isAdmin:()=>{let e=s.getStoredAdmin();return(null==e?void 0:e.role)==="admin"}}}},e=>{var r=r=>e(e.s=r);e.O(0,[2651,8173,5565,5037,8441,1517,7358],()=>r(2900)),_N_E=e.O()}]);