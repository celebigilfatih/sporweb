(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{8635:(e,n,r)=>{Promise.resolve().then(r.bind(r,8718))},6046:(e,n,r)=>{"use strict";var a=r(6658);r.o(a,"usePathname")&&r.d(n,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(n,{useRouter:function(){return a.useRouter}})},8718:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>h});var a=r(5155),t=r(2115),i=r(6046),l=r(8173),s=r.n(l),o=r(5565),d=r(4144),c=r(1567),u=r(2649),m=r(3312);function h(e){let{children:n}=e,[r,l]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!0),[g,p]=(0,t.useState)(null),v=(0,i.useRouter)(),x=(0,i.usePathname)();(0,t.useEffect)(()=>{d.y.initializeAuth(),b()},[]);let b=async()=>{try{if((null==x?void 0:x.includes("/admin/login"))||(null==x?void 0:x.includes("/admin/register"))){f(!1);return}let e=d.y.getStoredAdmin();if(!e){v.push("/admin/login");return}p(e),l(!0)}catch(e){console.error("Auth check error:",e),v.push("/admin/login")}finally{f(!1)}};return!h||(null==x?void 0:x.includes("/admin/login"))||(null==x?void 0:x.includes("/admin/register"))?(null==x?void 0:x.includes("/admin/login"))||(null==x?void 0:x.includes("/admin/register"))?n:(0,a.jsxs)("div",{className:"min-h-screen flex",children:[(0,a.jsxs)("div",{className:"w-64 bg-white border-r min-h-screen p-4",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(s(),{href:"/admin",className:"flex items-center space-x-2 mb-6",children:[(0,a.jsx)(o.default,{src:"/logo.png",alt:"Logo",width:40,height:40}),(0,a.jsx)("span",{className:"text-xl font-bold",children:"Admin Panel"})]})}),(0,a.jsx)("nav",{className:"space-y-1",children:[{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/admin/about",label:"Hakkımızda",icon:"ℹ️"},{href:"/admin/club",label:"Kul\xfcp Bilgileri",icon:"\uD83C\uDFE2"},{href:"/admin/groups",label:"Takımlar",icon:"⚽"},{href:"/admin/players",label:"A Takım",icon:"\uD83D\uDC65"},{href:"/admin/technical-staff",label:"Teknik Kadro",icon:"⚽"},{href:"/admin/egitmen-kadro",label:"Eğitmen Kadrosu",icon:"\uD83C\uDF93"},{href:"/admin/matches",label:"Ma\xe7 Takvimi",icon:"\uD83D\uDCC5"},{href:"/admin/news",label:"Haberler",icon:"\uD83D\uDCF0"},{href:"/admin/announcements",label:"Duyurular",icon:"\uD83D\uDCE2"},{href:"/admin/messages",label:"Mesajlar",icon:"✉️"},{href:"/admin/admins",label:"Y\xf6neticiler",icon:"\uD83D\uDC65"}].map(e=>(0,a.jsxs)(s(),{href:e.href,className:(0,c.cn)("flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors",x===e.href?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.label})]},e.href))})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 bg-white border-b border-border",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("h1",{className:"text-xl font-semibold text-foreground",children:["/admin"===x&&"Dashboard","/admin/about"===x&&"Hakkımızda","/admin/club"===x&&"Kul\xfcp Bilgileri","/admin/groups"===x&&"Takımlar",x.includes("/admin/groups/")&&!x.includes("/new")&&"Takım Detayları","/admin/groups/new"===x&&"Yeni Takım Ekle","/admin/players"===x&&"A Takım",x.includes("/admin/players/")&&!x.includes("/new")&&"Oyuncu Detayları","/admin/players/new"===x&&"Yeni Oyuncu Ekle","/admin/technical-staff"===x&&"Teknik Kadro",x.includes("/admin/technical-staff/")&&!x.includes("/new")&&"Teknik Personel Detayları","/admin/technical-staff/new"===x&&"Yeni Teknik Personel Ekle","/admin/egitmen-kadro"===x&&"Eğitmen Kadrosu","/admin/matches"===x&&"Ma\xe7 Takvimi",x.includes("/admin/matches/")&&!x.includes("/new")&&"Ma\xe7 Detayları","/admin/matches/new"===x&&"Yeni Ma\xe7 Ekle","/admin/news"===x&&"Haberler",x.includes("/admin/news/")&&!x.includes("/new")&&"Haber Detayları","/admin/news/new"===x&&"Yeni Haber Ekle","/admin/announcements"===x&&"Duyurular",x.includes("/admin/announcements/")&&!x.includes("/new")&&"Duyuru Detayları","/admin/announcements/new"===x&&"Yeni Duyuru Ekle","/admin/messages"===x&&"Mesajlar",x.includes("/admin/messages/")&&"Mesaj Detayları","/admin/admins"===x&&"Y\xf6neticiler",x.includes("/admin/admins/")&&!x.includes("/new")&&"Y\xf6netici Detayları","/admin/admins/new"===x&&"Yeni Y\xf6netici Ekle"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[g&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium text-foreground",children:g.name}),(0,a.jsx)("div",{className:"px-2 py-1 text-xs rounded-full ".concat("superadmin"===g.role?"bg-amber-100 text-amber-800":"admin"===g.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"superadmin"===g.role?"S\xfcper Admin":"admin"===g.role?"Y\xf6netici":"Edit\xf6r"})]}),(0,a.jsx)(m.$,{variant:"ghost",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("admin"),delete u.A.defaults.headers.common.Authorization,v.push("/admin/login")},className:"text-muted-foreground hover:text-foreground",children:"\xc7ıkış Yap"})]})]})}),g&&"superadmin"!==g.role&&x.includes("/admin/admins")&&(0,a.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 m-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-700",children:["Y\xf6netici listesine erişim i\xe7in ",(0,a.jsx)("span",{className:"font-medium",children:"superadmin"})," rol\xfcne sahip olmanız gerekmektedir. Şu anki rol\xfcn\xfcz: ",(0,a.jsx)("span",{className:"font-medium",children:g.role})]})})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-auto bg-gray-50 p-4",children:h?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):r&&n})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}},3312:(e,n,r)=>{"use strict";r.d(n,{$:()=>d});var a=r(5155),t=r(2115),i=r(2317),l=r(1027),s=r(1567);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef((e,n)=>{let{className:r,variant:t,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,s.cn)(o({variant:t,size:l,className:r})),ref:n,...c})});d.displayName="Button"},172:(e,n,r)=>{"use strict";r.d(n,{C:()=>t,H:()=>a});let a="http://localhost:5001/api",t="http://localhost:5001"},1567:(e,n,r)=>{"use strict";r.d(n,{cn:()=>i});var a=r(3463),t=r(9795);function i(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.QP)((0,a.$)(n))}},2649:(e,n,r)=>{"use strict";r.d(n,{A:()=>l});var a=r(2651),t=r(172);let i=a.A.create({baseURL:t.H,timeout:1e4,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{{let n=localStorage.getItem("token");n&&(e.headers.Authorization="Bearer ".concat(n))}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),i.interceptors.response.use(e=>(console.log("API Success:",e.config.url,e.status),e),e=>{var n,r,t;return a.A.isCancel(e)?(console.log("Request cancelled:",e.message),Promise.reject(Error("Request was cancelled"))):"ERR_NETWORK"===e.code?(console.error("Network error - backend server may be down"),Promise.reject(Error("Network error - please check if the server is running"))):"ECONNABORTED"===e.code?(console.error("Request timeout"),Promise.reject(Error("Request timeout - server is taking too long to respond"))):(console.error("API Error Details:",{url:null===(n=e.config)||void 0===n?void 0:n.url,method:null===(r=e.config)||void 0===r?void 0:r.method,status:null===(t=e.response)||void 0===t?void 0:t.status,message:e.message,code:e.code}),Promise.reject(e))});let l=i},4144:(e,n,r)=>{"use strict";r.d(n,{y:()=>t});var a=r(2649);let t={login:async e=>{let n=await a.A.post("/auth/login",e),{token:r,admin:t}=n.data;return localStorage.setItem("token",r),localStorage.setItem("admin",JSON.stringify(t)),a.A.defaults.headers.common.Authorization="Bearer ".concat(r),n.data},register:async e=>(await a.A.post("/auth/register",e)).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("admin"),delete a.A.defaults.headers.common.Authorization},getProfile:async()=>(await a.A.get("/auth/profile")).data,changePassword:async e=>(await a.A.post("/auth/change-password",e)).data,createAdmin:async e=>(await a.A.post("/auth/create",e)).data,getAllAdmins:async()=>{try{return(await a.A.get("/auth/admins")).data}catch(e){throw e.response&&403===e.response.status&&console.error("Yetki hatası: Superadmin rol\xfcne sahip değilsiniz"),e}},getAdminById:async e=>(await a.A.get("/auth/admins/".concat(e))).data,updateAdmin:async(e,n)=>(await a.A.put("/auth/admins/".concat(e),n)).data,deleteAdmin:async e=>{await a.A.delete("/auth/admins/".concat(e))},initializeAuth:()=>{let e=localStorage.getItem("token");e&&(a.A.defaults.headers.common.Authorization="Bearer ".concat(e))},getStoredAdmin:()=>{let e=localStorage.getItem("admin");return e?JSON.parse(e):null},isAdmin:()=>{let e=t.getStoredAdmin();return(null==e?void 0:e.role)==="admin"}}},8068:(e,n,r)=>{"use strict";r.d(n,{s:()=>l,t:()=>i});var a=r(2115);function t(e,n){if("function"==typeof e)return e(n);null!=e&&(e.current=n)}function i(...e){return n=>{let r=!1,a=e.map(e=>{let a=t(e,n);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let n=0;n<a.length;n++){let r=a[n];"function"==typeof r?r():t(e[n],null)}}}}function l(...e){return a.useCallback(i(...e),e)}},2317:(e,n,r)=>{"use strict";r.d(n,{DX:()=>l});var a=r(2115),t=r(8068),i=r(5155),l=a.forwardRef((e,n)=>{let{children:r,...t}=e,l=a.Children.toArray(r),o=l.find(d);if(o){let e=o.props.children,r=l.map(n=>n!==o?n:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(s,{...t,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,i.jsx)(s,{...t,ref:n,children:r})});l.displayName="Slot";var s=a.forwardRef((e,n)=>{let{children:r,...i}=e;if(a.isValidElement(r)){let e=function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),l=function(e,n){let r={...n};for(let a in n){let t=e[a],i=n[a];/^on[A-Z]/.test(a)?t&&i?r[a]=(...e)=>{i(...e),t(...e)}:t&&(r[a]=t):"style"===a?r[a]={...t,...i}:"className"===a&&(r[a]=[t,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==a.Fragment&&(l.ref=n?(0,t.t)(n,e):e),a.cloneElement(r,l)}return a.Children.count(r)>1?a.Children.only(null):null});s.displayName="SlotClone";var o=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});function d(e){return a.isValidElement(e)&&e.type===o}},1027:(e,n,r)=>{"use strict";r.d(n,{F:()=>l});var a=r(3463);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=a.$,l=(e,n)=>r=>{var a;if((null==n?void 0:n.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:s}=n,o=Object.keys(l).map(e=>{let n=null==r?void 0:r[e],a=null==s?void 0:s[e];if(null===n)return null;let i=t(n)||t(a);return l[e][i]}),d=r&&Object.entries(r).reduce((e,n)=>{let[r,a]=n;return void 0===a||(e[r]=a),e},{});return i(e,o,null==n?void 0:null===(a=n.compoundVariants)||void 0===a?void 0:a.reduce((e,n)=>{let{class:r,className:a,...t}=n;return Object.entries(t).every(e=>{let[n,r]=e;return Array.isArray(r)?r.includes({...s,...d}[n]):({...s,...d})[n]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},e=>{var n=n=>e(e.s=n);e.O(0,[2651,8173,5565,1181,8441,1517,7358],()=>n(8635)),_N_E=e.O()}]);