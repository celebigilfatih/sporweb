(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4831],{2039:(e,t,r)=>{Promise.resolve().then(r.bind(r,162))},162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5155),i=r(2115),a=r(8173),s=r.n(a),l=r(4144),o=r(5037),d=r(9749),c=r(3312);function u(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(!0),[u,m]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),h=async()=>{try{let e=await l.y.getAllAdmins();t(e),m(null)}catch(t){var e;(null==t?void 0:null===(e=t.response)||void 0===e?void 0:e.status)===403?(m("Bu sayfaya erişim i\xe7in superadmin yetkisine sahip olmanız gerekmektedir. Normal admin veya edit\xf6r hesapları bu sayfaya erişemez."),o.oR.error("Yetki hatası: Superadmin rol\xfcne sahip değilsiniz")):(m("Y\xf6neticiler y\xfcklenirken bir hata oluştu"),o.oR.error("Y\xf6neticiler y\xfcklenirken bir hata oluştu")),console.error("Error fetching admins:",t)}finally{a(!1)}};(0,i.useEffect)(()=>{h()},[]);let x=async e=>{if(window.confirm("Bu y\xf6neticiyi silmek istediğinizden emin misiniz?")){f(e);try{await l.y.deleteAdmin(e),await h(),o.oR.success("Y\xf6netici başarıyla silindi")}catch(e){var t;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===403?(m("Y\xf6netici silme işlemi i\xe7in superadmin yetkisine sahip olmanız gerekmektedir."),o.oR.error("Yetki hatası: Superadmin rol\xfcne sahip değilsiniz")):(m("Y\xf6netici silinirken bir hata oluştu"),o.oR.error("Y\xf6netici silinirken bir hata oluştu")),console.error("Error deleting admin:",e)}finally{f(null)}}};return r?(0,n.jsx)("div",{className:"p-8",children:(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,n.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,n.jsxs)(d.Zp,{children:[(0,n.jsxs)(d.aR,{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)(d.ZB,{children:"Y\xf6neticiler"}),(0,n.jsx)(s(),{href:"/admin/admins/new",children:(0,n.jsx)(c.$,{children:"Yeni Y\xf6netici Ekle"})})]}),(0,n.jsxs)(d.Wu,{children:[u&&(0,n.jsx)("div",{className:"mb-6 bg-destructive/10 border border-destructive/30 rounded-lg p-4 text-destructive",children:u}),!u&&(0,n.jsxs)("div",{className:"rounded-md border",children:[(0,n.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-muted/50",children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Ad Soyad"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Kullanıcı Adı"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"E-posta"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Rol"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Durum"}),(0,n.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"İşlemler"})]})}),(0,n.jsx)("tbody",{className:"bg-card divide-y divide-border",children:e.map(e=>{var t;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm font-medium",children:e.name})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:e.username})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("superadmin"===e.role?"bg-amber-100 text-amber-800":"admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"superadmin"===e.role?"S\xfcper Admin":"admin"===e.role?"Y\xf6netici":"Edit\xf6r"})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Aktif":"Pasif"})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,n.jsx)(s(),{href:"/admin/admins/".concat(e.id),className:"text-primary hover:text-primary/80 mr-4",children:"D\xfczenle"}),e.id!==(null===(t=l.y.getStoredAdmin())||void 0===t?void 0:t.id)&&(0,n.jsx)("button",{onClick:()=>x(e.id),disabled:p===e.id,className:"text-destructive hover:text-destructive/80 ".concat(p===e.id?"opacity-50 cursor-not-allowed":""),children:p===e.id?"Siliniyor...":"Sil"})]})]},e.id)})})]}),0===e.length&&(0,n.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"Hen\xfcz y\xf6netici bulunmuyor."})]})]})]})})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var n=r(5155),i=r(2115),a=r(2317),s=r(1027),l=r(1567);let o=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:d=!1,...c}=e,u=d?a.DX:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:i,size:s,className:r})),ref:t,...c})});d.displayName="Button"},9749:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>d,ZB:()=>o,Zp:()=>s,aR:()=>l,wL:()=>c});var n=r(5155),i=r(2115),a=r(1567);let s=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...i})});s.displayName="Card";let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...i})});o.displayName="CardTitle",i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...i})}).displayName="CardDescription";let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...i})});d.displayName="CardContent";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...i})});c.displayName="CardFooter"},172:(e,t,r)=>{"use strict";r.d(t,{C:()=>i,H:()=>n});let n="http://localhost:5001/api",i="http://localhost:5001"},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var n=r(3463),i=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,n.$)(t))}},2649:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2651),i=r(172);let a=n.A.create({baseURL:i.H,timeout:1e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),a.interceptors.response.use(e=>(console.log("API Success:",e.config.url,e.status),e),e=>{var t,r,i;return n.A.isCancel(e)?(console.log("Request cancelled:",e.message),Promise.reject(Error("Request was cancelled"))):"ERR_NETWORK"===e.code?(console.error("Network error - backend server may be down"),Promise.reject(Error("Network error - please check if the server is running"))):"ECONNABORTED"===e.code?(console.error("Request timeout"),Promise.reject(Error("Request timeout - server is taking too long to respond"))):(console.error("API Error Details:",{url:null===(t=e.config)||void 0===t?void 0:t.url,method:null===(r=e.config)||void 0===r?void 0:r.method,status:null===(i=e.response)||void 0===i?void 0:i.status,message:e.message,code:e.code}),Promise.reject(e))});let s=a},4144:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(2649);let i={login:async e=>{let t=await n.A.post("/auth/login",e),{token:r,admin:i}=t.data;return localStorage.setItem("token",r),localStorage.setItem("admin",JSON.stringify(i)),n.A.defaults.headers.common.Authorization="Bearer ".concat(r),t.data},register:async e=>(await n.A.post("/auth/register",e)).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("admin"),delete n.A.defaults.headers.common.Authorization},getProfile:async()=>(await n.A.get("/auth/profile")).data,changePassword:async e=>(await n.A.post("/auth/change-password",e)).data,createAdmin:async e=>(await n.A.post("/auth/create",e)).data,getAllAdmins:async()=>{try{return(await n.A.get("/auth/admins")).data}catch(e){throw e.response&&403===e.response.status&&console.error("Yetki hatası: Superadmin rol\xfcne sahip değilsiniz"),e}},getAdminById:async e=>(await n.A.get("/auth/admins/".concat(e))).data,updateAdmin:async(e,t)=>(await n.A.put("/auth/admins/".concat(e),t)).data,deleteAdmin:async e=>{await n.A.delete("/auth/admins/".concat(e))},initializeAuth:()=>{let e=localStorage.getItem("token");e&&(n.A.defaults.headers.common.Authorization="Bearer ".concat(e))},getStoredAdmin:()=>{let e=localStorage.getItem("admin");return e?JSON.parse(e):null},isAdmin:()=>{let e=i.getStoredAdmin();return(null==e?void 0:e.role)==="admin"}}},8068:(e,t,r)=>{"use strict";r.d(t,{s:()=>s,t:()=>a});var n=r(2115);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}function s(...e){return n.useCallback(a(...e),e)}},2317:(e,t,r)=>{"use strict";r.d(t,{DX:()=>s});var n=r(2115),i=r(8068),a=r(5155),s=n.forwardRef((e,t)=>{let{children:r,...i}=e,s=n.Children.toArray(r),o=s.find(d);if(o){let e=o.props.children,r=s.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(l,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,a.jsx)(l,{...i,ref:t,children:r})});s.displayName="Slot";var l=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),s=function(e,t){let r={...t};for(let n in t){let i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...e)=>{a(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...a}:"className"===n&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(s.ref=t?(0,i.t)(t,e):e),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});function d(e){return n.isValidElement(e)&&e.type===o}},1027:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(3463);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.$,s=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:l}=t,o=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==l?void 0:l[e];if(null===t)return null;let a=i(t)||i(n);return s[e][a]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return a(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},e=>{var t=t=>e(e.s=t);e.O(0,[2651,8173,1181,5037,8441,1517,7358],()=>t(2039)),_N_E=e.O()}]);