(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3911],{2751:(e,r,t)=>{Promise.resolve().then(t.bind(t,3094))},3094:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(5155),s=t(2115),i=t(8173),n=t.n(i),l=t(5055);function o(){let[e,r]=(0,s.useState)([]),[t,i]=(0,s.useState)(!0),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),p=async()=>{try{let e=await l.H.getAll();r(e),c(null)}catch(e){c("Gruplar y\xfcklenirken bir hata oluştu"),console.error("Error fetching groups:",e)}finally{i(!1)}};(0,s.useEffect)(()=>{p()},[]);let m=async e=>{if(window.confirm("Bu grubu silmek istediğinizden emin misiniz?")){u(e);try{await l.H.delete(e),await p()}catch(e){c("Grup silinirken bir hata oluştu"),console.error("Error deleting group:",e)}finally{u(null)}}};return t?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Alt Yapı Takımlarımız"}),(0,a.jsx)(n(),{href:"/admin/groups/new",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Yeni Takım Ekle"})]}),o&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:o}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Takım Adı"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eğitmen"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.trainer.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.trainer.qualification})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Aktif":"Pasif"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)(n(),{href:"/admin/groups/".concat(e._id),className:"text-blue-600 hover:text-blue-900 mr-4",children:"D\xfczenle"}),(0,a.jsx)("button",{onClick:()=>m(e._id),disabled:d===e._id,className:"text-red-600 hover:text-red-900 ".concat(d===e._id?"opacity-50 cursor-not-allowed":""),children:d===e._id?"Siliniyor...":"Sil"})]})]},e._id))})]})})]})}},172:(e,r,t)=>{"use strict";t.d(r,{C:()=>s,H:()=>a});let a="http://localhost:5001/api",s="http://localhost:5001"},2649:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(2651),s=t(172);let i=a.A.create({baseURL:s.H,timeout:1e4,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),i.interceptors.response.use(e=>(console.log("API Success:",e.config.url,e.status),e),e=>{var r,t,s;return a.A.isCancel(e)?(console.log("Request cancelled:",e.message),Promise.reject(Error("Request was cancelled"))):"ERR_NETWORK"===e.code?(console.error("Network error - backend server may be down"),Promise.reject(Error("Network error - please check if the server is running"))):"ECONNABORTED"===e.code?(console.error("Request timeout"),Promise.reject(Error("Request timeout - server is taking too long to respond"))):(console.error("API Error Details:",{url:null===(r=e.config)||void 0===r?void 0:r.url,method:null===(t=e.config)||void 0===t?void 0:t.method,status:null===(s=e.response)||void 0===s?void 0:s.status,message:e.message,code:e.code}),Promise.reject(e))});let n=i},5055:(e,r,t)=>{"use strict";t.d(r,{H:()=>s});var a=t(2649);let s={getAll:async()=>{try{return(await a.A.get("/groups")).data}catch(e){throw console.error("Error fetching groups:",e),e}},getById:async e=>{try{let r=await a.A.get("/groups/".concat(e));return{...r.data,players:r.data.players||[],imageUrl:r.data.imageUrl||""}}catch(e){throw console.error("Error in getById group service:",e),e}},create:async(e,r)=>{try{if(!e.name)throw Error("Name is required");if(!e.description)throw Error("Description is required");if(!e.trainer||!e.trainer.name||!e.trainer.qualification)throw Error("Trainer name and qualification are required");if(e.type||(e={...e,type:"Alt Yapı"}),e.players||(e.players=[]),!r)return(await a.A.post("/groups",e)).data;{let t=new FormData;t.append("image",r);let s=JSON.stringify({...e,players:e.players});return t.append("data",s),(await a.A.post("/groups",t,{headers:{"Content-Type":"multipart/form-data"}})).data}}catch(e){throw console.error("Error in create group service:",e),e}},update:async(e,r,t)=>{try{if(r.players||(r.players=[]),!t)return(await a.A.put("/groups/".concat(e),{...r,players:r.players})).data;{let s=new FormData;s.append("image",t);let i=JSON.stringify({...r,players:r.players});return s.append("data",i),(await a.A.put("/groups/".concat(e),s,{headers:{"Content-Type":"multipart/form-data"}})).data}}catch(e){throw console.error("Error in update group service:",e),e}},delete:async e=>{await a.A.delete("/groups/".concat(e))}}}},e=>{var r=r=>e(e.s=r);e.O(0,[2651,8173,8441,1517,7358],()=>r(2751)),_N_E=e.O()}]);