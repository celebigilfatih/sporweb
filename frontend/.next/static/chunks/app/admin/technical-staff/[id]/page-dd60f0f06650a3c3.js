(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6601],{1089:(e,r,a)=>{Promise.resolve().then(a.bind(a,2260))},2260:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>p});var t=a(5155),i=a(2115),s=a(6046),n=a(5037),o=a(5685),l=a(3312),d=a(3900),c=a(8986),u=a(6754),m=a(7528);function p(e){let{params:r}=e,a=(0,s.useRouter)(),[p,f]=(0,i.useState)(!1),[h,x]=(0,i.useState)("/staff-placeholder.jpg"),[g,b]=(0,i.useState)({name:"",position:"Teknik Direkt\xf6r",qualification:"",experience:0,biography:"",image:"/staff-placeholder.jpg",isActive:!0,joinDate:new Date().toISOString()});(0,i.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await (0,o.ru)(r.id);b({name:e.name,position:e.position,qualification:e.qualification,experience:e.experience,biography:e.biography||"",image:e.image,isActive:e.isActive,joinDate:e.joinDate}),x(e.image)}catch(e){n.oR.error("Teknik ekip \xfcyesi bilgileri y\xfcklenirken bir hata oluştu"),a.push("/admin/technical-staff")}},y=(e,r)=>{b(a=>({...a,[e]:r}))},j=async e=>{var r;let a=null===(r=e.target.files)||void 0===r?void 0:r[0];if(a){if(a.size>5242880){n.oR.error("Resim boyutu 5MB'dan k\xfc\xe7\xfck olmalıdır");return}try{let e=await w(a);x(e),b(r=>({...r,image:e}))}catch(e){n.oR.error("Resim y\xfcklenirken bir hata oluştu")}}},w=e=>new Promise((r,a)=>{let t=new FileReader;t.readAsDataURL(e),t.onload=()=>r(t.result),t.onerror=e=>a(e)}),N=async e=>{if(e.preventDefault(),f(!0),!g.name||!g.position||!g.qualification){n.oR.error("L\xfctfen t\xfcm zorunlu alanları doldurun"),f(!1);return}try{await (0,o.yf)(r.id,g),n.oR.success("Teknik ekip \xfcyesi başarıyla g\xfcncellendi"),a.push("/admin/technical-staff")}catch(e){n.oR.error(e.message||"Bir hata oluştu")}finally{f(!1)}};return(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Teknik Ekip \xdcyesi D\xfczenle"}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"name",children:"Ad Soyad"}),(0,t.jsx)(d.p,{id:"name",value:g.name,onChange:e=>y("name",e.target.value),placeholder:"Ad Soyad giriniz"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"position",children:"Pozisyon"}),(0,t.jsxs)(m.l6,{value:g.position,onValueChange:e=>y("position",e),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Pozisyon se\xe7iniz"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Teknik Direkt\xf6r",children:"Teknik Direkt\xf6r"}),(0,t.jsx)(m.eb,{value:"Yardımcı Antren\xf6r",children:"Yardımcı Antren\xf6r"}),(0,t.jsx)(m.eb,{value:"Kaleci Antren\xf6r\xfc",children:"Kaleci Antren\xf6r\xfc"}),(0,t.jsx)(m.eb,{value:"Kondisyoner",children:"Kondisyoner"}),(0,t.jsx)(m.eb,{value:"Fizyoterapist",children:"Fizyoterapist"}),(0,t.jsx)(m.eb,{value:"Mas\xf6r",children:"Mas\xf6r"}),(0,t.jsx)(m.eb,{value:"Malzemeci",children:"Malzemeci"}),(0,t.jsx)(m.eb,{value:"Analizci",children:"Analizci"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"qualification",children:"Yeterlilik"}),(0,t.jsx)(d.p,{id:"qualification",value:g.qualification,onChange:e=>y("qualification",e.target.value),placeholder:"Yeterlilik bilgisi giriniz"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"experience",children:"Deneyim (Yıl)"}),(0,t.jsx)(d.p,{id:"experience",type:"number",min:"0",value:g.experience,onChange:e=>y("experience",parseInt(e.target.value)||0)})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{children:"Fotoğraf"}),(0,t.jsxs)("div",{className:"mt-2 flex flex-col items-center space-y-4",children:[(0,t.jsx)("img",{src:h,alt:"Preview",className:"w-48 h-48 rounded-lg object-cover border"}),(0,t.jsx)(d.p,{type:"file",accept:"image/*",onChange:j,className:"w-full"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Maksimum dosya boyutu: 5MB"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"biography",children:"Biyografi"}),(0,t.jsx)(u.T,{id:"biography",value:g.biography,onChange:e=>y("biography",e.target.value),placeholder:"Kısa biyografi...",rows:4})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>a.back(),children:"İptal"}),(0,t.jsx)(l.$,{type:"submit",disabled:p,children:p?(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Kaydet"})]})]})]})})}},3312:(e,r,a)=>{"use strict";a.d(r,{$:()=>d});var t=a(5155),i=a(2115),s=a(2317),n=a(1027),o=a(1567);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,r)=>{let{className:a,variant:i,size:n,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,t.jsx)(u,{className:(0,o.cn)(l({variant:i,size:n,className:a})),ref:r,...c})});d.displayName="Button"},3900:(e,r,a)=>{"use strict";a.d(r,{p:()=>n});var t=a(5155),i=a(2115),s=a(1567);let n=i.forwardRef((e,r)=>{let{className:a,type:i,...n}=e;return(0,t.jsx)("input",{type:i,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...n})});n.displayName="Input"},8986:(e,r,a)=>{"use strict";a.d(r,{J:()=>d});var t=a(5155),i=a(2115),s=a(6195),n=a(1027),o=a(1567);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)(s.b,{ref:r,className:(0,o.cn)(l(),a),...i})});d.displayName=s.b.displayName},7528:(e,r,a)=>{"use strict";a.d(r,{bq:()=>u,eb:()=>p,gC:()=>m,l6:()=>d,yv:()=>c});var t=a(5155),i=a(2115),s=a(2116),n=a(2645),o=a(7193),l=a(1567);let d=s.bL;s.YJ;let c=s.WT,u=i.forwardRef((e,r)=>{let{className:a,children:i,...o}=e;return(0,t.jsxs)(s.l9,{ref:r,className:(0,l.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),...o,children:[i,(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})]})});u.displayName=s.l9.displayName;let m=i.forwardRef((e,r)=>{let{className:a,children:i,position:n="popper",...o}=e;return(0,t.jsx)(s.ZL,{children:(0,t.jsx)(s.UC,{ref:r,className:(0,l.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:(0,t.jsx)(s.LM,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i})})})});m.displayName=s.UC.displayName,i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)(s.JU,{ref:r,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",a),...i})}).displayName=s.JU.displayName;let p=i.forwardRef((e,r)=>{let{className:a,children:i,...n}=e;return(0,t.jsxs)(s.q7,{ref:r,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(s.VF,{children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(s.p4,{children:i})]})});p.displayName=s.q7.displayName,i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)(s.wv,{ref:r,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...i})}).displayName=s.wv.displayName},6754:(e,r,a)=>{"use strict";a.d(r,{T:()=>n});var t=a(5155),i=a(2115),s=a(1567);let n=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...i})});n.displayName="Textarea"},172:(e,r,a)=>{"use strict";a.d(r,{C:()=>i,H:()=>t});let t="http://localhost:5001/api",i="http://localhost:5001"},1567:(e,r,a)=>{"use strict";a.d(r,{cn:()=>s});var t=a(3463),i=a(9795);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,i.QP)((0,t.$)(r))}},2649:(e,r,a)=>{"use strict";a.d(r,{A:()=>n});var t=a(2651),i=a(172);let s=t.A.create({baseURL:i.H,timeout:1e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),s.interceptors.response.use(e=>(console.log("API Success:",e.config.url,e.status),e),e=>{var r,a,i;return t.A.isCancel(e)?(console.log("Request cancelled:",e.message),Promise.reject(Error("Request was cancelled"))):"ERR_NETWORK"===e.code?(console.error("Network error - backend server may be down"),Promise.reject(Error("Network error - please check if the server is running"))):"ECONNABORTED"===e.code?(console.error("Request timeout"),Promise.reject(Error("Request timeout - server is taking too long to respond"))):(console.error("API Error Details:",{url:null===(r=e.config)||void 0===r?void 0:r.url,method:null===(a=e.config)||void 0===a?void 0:a.method,status:null===(i=e.response)||void 0===i?void 0:i.status,message:e.message,code:e.code}),Promise.reject(e))});let n=s},5685:(e,r,a)=>{"use strict";a.d(r,{D1:()=>n,Ep:()=>i,o7:()=>l,ru:()=>s,yf:()=>o});var t=a(2649);let i=async()=>(await t.A.get("/technical-staff")).data,s=async e=>(await t.A.get("/technical-staff/".concat(e))).data,n=async e=>(await t.A.post("/technical-staff",e)).data,o=async(e,r)=>(await t.A.put("/technical-staff/".concat(e),r)).data,l=async e=>{await t.A.delete("/technical-staff/".concat(e))}}},e=>{var r=r=>e(e.s=r);e.O(0,[2651,1181,5037,4095,8441,1517,7358],()=>r(1089)),_N_E=e.O()}]);