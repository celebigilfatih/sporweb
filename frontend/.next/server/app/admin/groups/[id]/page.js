(()=>{var e={};e.id=9535,e.ids=[9535],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},42869:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=s(70260),i=s(28203),a=s(25155),n=s.n(a),l=s(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let d=["",{children:["admin",{children:["groups",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6668)),"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/groups/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,96038)),"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/home/barisariburnu/workspace/sporweb/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/groups/[id]/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/groups/[id]/page",pathname:"/admin/groups/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},22705:(e,r,s)=>{Promise.resolve().then(s.bind(s,6668))},12977:(e,r,s)=>{Promise.resolve().then(s.bind(s,1552))},1552:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>j});var t=s(45512),i=s(58009),a=s(79334),n=s(45103),l=s(59433),o=s(39400),d=s(77722),c=s(52628),u=s(75002),p=s(93732),h=s(64590),m=s(26097),x=s(22403),v=s(82918);function j({params:e}){let r=(0,i.use)(e),s=(0,a.useRouter)(),j="new"===r.id,[g,b]=(0,i.useState)(!0),[f,y]=(0,i.useState)(!1),[w,k]=(0,i.useState)(null),[N,q]=(0,i.useState)(null),[C,P]=(0,i.useState)({name:"",description:"",imageUrl:"",schedule:[{day:"Pazartesi",startTime:"09:00",endTime:"10:30"}],trainer:{name:"",qualification:""},players:[],isActive:!0}),$=(e,r)=>{if(e.includes(".")){let[s,t]=e.split(".");P(e=>{let i=e[s]||{};return{...e,[s]:{...i,[t]:r}}})}else P(s=>({...s,[e]:r}))},A=(e,r,s)=>{P(t=>({...t,schedule:t.schedule?.map((t,i)=>i===e?{...t,[r]:s}:t)}))},E=e=>{P(r=>({...r,schedule:r.schedule?.filter((r,s)=>s!==e)}))},_=e=>{P(r=>Object.assign({},r,{players:r.players.filter((r,s)=>s!==e)}))},z=(e,r,s)=>{P(t=>Object.assign({},t,{players:t.players.map((t,i)=>i===e?Object.assign({},t,{[r]:s}):t)}))},G=async e=>{e.preventDefault(),y(!0),k(null);try{if(!C.name)throw Error("Grup adı zorunludur");if(!C.description)throw Error("A\xe7ıklama zorunludur");if(!C.trainer?.name)throw Error("Eğitmen adı zorunludur");if(!C.trainer?.qualification)throw Error("Eğitmen yeterliliği zorunludur");let e={name:C.name,description:C.description,imageUrl:C.imageUrl,schedule:C.schedule||[],trainer:{name:C.trainer?.name||"",qualification:C.trainer?.qualification||""},players:C.players||[],isActive:C.isActive??!0,type:"Alt Yapı"};j?(await l.H.create(e,N||void 0),x.oR.success("Grup başarıyla oluşturuldu")):(await l.H.update(r.id,e,N||void 0),x.oR.success("Grup başarıyla g\xfcncellendi")),s.push("/admin/groups")}catch(r){let e="Grup kaydedilirken bir hata oluştu";r instanceof Error&&(e=r.message),k(e),console.error("Error saving group:",r),x.oR.error(e),y(!1)}};return g?(0,t.jsx)("div",{className:"flex h-[50vh] items-center justify-center",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):w?(0,t.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-700",children:w})}):(0,t.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsx)(h.ZB,{children:j?"Yeni Grup Ekle":"Grubu D\xfczenle"})}),(0,t.jsx)(h.Wu,{children:(0,t.jsxs)("form",{onSubmit:G,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"name",children:"Grup Adı"}),(0,t.jsx)(d.p,{id:"name",value:C.name,onChange:e=>$("name",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"description",children:"A\xe7ıklama"}),(0,t.jsx)(u.T,{id:"description",value:C.description,onChange:e=>$("description",e.target.value),required:!0,className:"min-h-[100px]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"image",children:"Takım Resmi"}),(0,t.jsx)(d.p,{id:"image",type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];r&&(q(r),P(e=>({...e,imageUrl:URL.createObjectURL(r)})))},className:"mt-1"}),C.imageUrl&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(n.default,{src:`${C.imageUrl}`.startsWith("blob:")||`${C.imageUrl}`.startsWith("data:")||`${C.imageUrl}`.startsWith("http")?`${C.imageUrl}`:`${v.C}${C.imageUrl}`,alt:"Takım Resmi",width:200,height:200,className:"rounded-lg object-cover"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{children:"Antrenman Programı"}),(0,t.jsxs)("div",{className:"space-y-2",children:[C.schedule?.map((e,r)=>t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(p.l6,{value:e.day,onValueChange:e=>A(r,"day",e),children:[t.jsx(p.bq,{className:"w-[180px]",children:t.jsx(p.yv,{placeholder:"G\xfcn se\xe7in"})}),t.jsx(p.gC,{children:["Pazartesi","Salı","\xc7arşamba","Perşembe","Cuma","Cumartesi","Pazar"].map(e=>t.jsx(p.eb,{value:e,children:e},`day-${e}`))})]}),t.jsx(d.p,{type:"time",value:e.startTime,onChange:e=>A(r,"startTime",e.target.value),className:"w-[150px]"}),t.jsx(d.p,{type:"time",value:e.endTime,onChange:e=>A(r,"endTime",e.target.value),className:"w-[150px]"}),t.jsx(o.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>E(r),children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 6h18"}),t.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]},`schedule-item-${r}`)),(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{P(e=>({...e,schedule:[...e.schedule||[],{day:"Pazartesi",startTime:"09:00",endTime:"10:30"}]}))},className:"mt-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:(0,t.jsx)("path",{d:"M12 5v14M5 12h14"})}),"Program Ekle"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{children:"Oyuncular"}),(0,t.jsxs)("div",{className:"space-y-4",children:[C.players?.map((e,r)=>t.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("h4",{className:"font-semibold",children:["Oyuncu ",r+1]}),t.jsx(o.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>_(r),children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 6h18"}),t.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(c.J,{htmlFor:`player-${r}-firstName`,children:"Ad"}),t.jsx(d.p,{id:`player-${r}-firstName`,value:e.firstName,onChange:e=>z(r,"firstName",e.target.value),required:!0})]}),t.jsxs("div",{children:[t.jsx(c.J,{htmlFor:`player-${r}-lastName`,children:"Soyad"}),t.jsx(d.p,{id:`player-${r}-lastName`,value:e.lastName,onChange:e=>z(r,"lastName",e.target.value),required:!0})]}),t.jsxs("div",{children:[t.jsx(c.J,{htmlFor:`player-${r}-birthDate`,children:"Doğum Tarihi"}),t.jsx(d.p,{id:`player-${r}-birthDate`,type:"date",value:e.birthDate,onChange:e=>z(r,"birthDate",e.target.value),required:!0})]}),t.jsxs("div",{children:[t.jsx(c.J,{htmlFor:`player-${r}-position`,children:"Mevki"}),t.jsxs(p.l6,{value:e.position,onValueChange:e=>z(r,"position",e),children:[t.jsx(p.bq,{children:t.jsx(p.yv,{placeholder:"Mevki se\xe7in"})}),t.jsx(p.gC,{children:["Kaleci","Defans","Orta Saha","Forvet"].map(e=>t.jsx(p.eb,{value:e,children:e},e))})]})]})]})]},`player-${r}`)),(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{P(e=>Object.assign({},e,{players:[...e.players||[],{firstName:"",lastName:"",birthDate:"",position:""}]}))},className:"w-full",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:(0,t.jsx)("path",{d:"M12 5v14M5 12h14"})}),"Oyuncu Ekle"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"trainer.name",children:"Eğitmen Adı"}),(0,t.jsx)(d.p,{id:"trainer.name",value:C.trainer?.name,onChange:e=>$("trainer.name",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"trainer.qualification",children:"Eğitmen Yeterliliği"}),(0,t.jsx)(d.p,{id:"trainer.qualification",value:C.trainer?.qualification,onChange:e=>$("trainer.qualification",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.S,{id:"isActive",checked:C.isActive,onCheckedChange:e=>P(r=>({...r,isActive:e}))}),(0,t.jsx)(c.J,{htmlFor:"isActive",className:"font-normal",children:"Aktif"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>s.push("/admin/groups"),children:"İptal"}),(0,t.jsx)(o.$,{type:"submit",disabled:f,children:f?"Kaydediliyor...":"Kaydet"})]})]})})]})})}},6668:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/groups/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/groups/[id]/page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,4793,5668,8077,4241,8621,9757,951,2448],()=>s(42869));module.exports=t})();