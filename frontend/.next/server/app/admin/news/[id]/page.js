(()=>{var e={};e.id=4010,e.ids=[4010],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},96731:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>u});var s=t(70260),a=t(28203),n=t(25155),i=t.n(n),l=t(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let u=["",{children:["admin",{children:["news",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,89189)),"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/news/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,96038)),"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"/home/barisariburnu/workspace/sporweb/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/news/[id]/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/news/[id]/page",pathname:"/admin/news/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},46216:(e,r,t)=>{Promise.resolve().then(t.bind(t,89189))},33064:(e,r,t)=>{Promise.resolve().then(t.bind(t,32873))},79334:(e,r,t)=>{"use strict";var s=t(58686);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},32873:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(45512),a=t(58009),n=t(79334),i=t(45103),l=t(30177);function o({params:e}){let r=(0,a.use)(e),t=(0,n.useRouter)(),o="new"===r.id,[u,d]=(0,a.useState)({title:"",content:"",image:"",category:"Genel",author:"",isPublished:!0,publishDate:new Date().toISOString(),tags:[]}),[c,m]=(0,a.useState)(!o),[p,h]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[x,g]=(0,a.useState)(""),y=e=>{let{name:r,value:t}=e.target;d(e=>({...e,[r]:t}))},v=async e=>new Promise((r,t)=>{let s=new FileReader;s.onload=e=>{let s=document.createElement("img");s.onload=()=>{let e=document.createElement("canvas"),a=s.width,n=s.height;a>n&&a>800?(n=800*n/a,a=800):n>800&&(a=800*a/n,n=800),e.width=a,e.height=n;let i=e.getContext("2d");if(!i){t(Error("Failed to get canvas context"));return}i.drawImage(s,0,0,a,n),r(e.toDataURL("image/jpeg",.8))},s.onerror=()=>{t(Error("Failed to load image"))},s.src=e.target?.result},s.onerror=()=>{t(Error("Failed to read file"))},s.readAsDataURL(e)}),w=async e=>{let r=e.target.files?.[0];if(r)try{f(null);let e=await v(r);d(r=>({...r,image:e}))}catch(e){console.error("Error processing image:",e),f("G\xf6rsel y\xfcklenirken bir hata oluştu. L\xfctfen daha k\xfc\xe7\xfck bir g\xf6rsel deneyin.")}},j=e=>{d(r=>({...r,tags:r.tags?.filter(r=>r!==e)}))},k=async e=>{e.preventDefault(),h(!0),f(null);try{if(!u.title.trim())throw Error("Başlık alanı zorunludur");if(!u.content.trim())throw Error("İ\xe7erik alanı zorunludur");if(!u.author.trim())throw Error("Yazar alanı zorunludur");let e={title:u.title.trim(),content:u.content.trim(),author:u.author.trim(),category:u.category||"Genel",isPublished:u.isPublished??!0,publishDate:new Date(u.publishDate||new Date).toISOString(),tags:Array.isArray(u.tags)?u.tags.filter(e=>e.trim()):[],...u.image&&!u.image.includes("news-placeholder.svg")?{image:u.image}:{}};o?await l.newsService.create(e):await l.newsService.update(r.id,e),t.push("/admin/news")}catch(e){e instanceof Error?f(e.message):f("Haber kaydedilirken bir hata oluştu"),console.error("Error saving news:",e),h(!1)}};return c?(0,s.jsx)("div",{className:"p-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,s.jsx)("div",{className:"p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:o?"Yeni Haber Ekle":"Haberi D\xfczenle"}),b&&(0,s.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:b}),(0,s.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Başlık"}),(0,s.jsx)("input",{type:"text",id:"title",name:"title",value:u.title,onChange:y,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"İ\xe7erik"}),(0,s.jsx)("textarea",{id:"content",name:"content",value:u.content,onChange:y,rows:6,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"G\xf6rsel"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center gap-4",children:[u.image?(0,s.jsx)("div",{className:"relative w-32 h-32",children:(0,s.jsx)(i.default,{src:u.image,alt:"Preview",fill:!0,className:"object-cover rounded-lg"})}):(0,s.jsx)("div",{className:"w-32 h-32 bg-gray-100 flex items-center justify-center rounded-lg",children:(0,s.jsx)("span",{className:"text-gray-400",children:"No Image"})}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:w,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Kategori"}),(0,s.jsxs)("select",{id:"category",name:"category",value:u.category,onChange:y,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"Genel",children:"Genel"}),(0,s.jsx)("option",{value:"Turnuva",children:"Turnuva"}),(0,s.jsx)("option",{value:"Eğitim",children:"Eğitim"}),(0,s.jsx)("option",{value:"Başarı",children:"Başarı"}),(0,s.jsx)("option",{value:"Diğer",children:"Diğer"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700",children:"Yazar"}),(0,s.jsx)("input",{type:"text",id:"author",name:"author",value:u.author,onChange:y,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Etiketler"}),(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&x.trim()&&(e.preventDefault(),u.tags?.includes(x.trim())||d(e=>({...e,tags:[...e.tags||[],x.trim()]})),g(""))},placeholder:"Enter tuşu ile etiket ekleyin",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:u.tags?.map((e,r)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[e,s.jsx("button",{type:"button",onClick:()=>j(e),className:"text-blue-600 hover:text-blue-800",children:"\xd7"})]},`tag-${e}-${r}`))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"isPublished",name:"isPublished",checked:u.isPublished,onChange:e=>d(r=>({...r,isPublished:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-900",children:"Yayınla"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"publishDate",className:"block text-sm font-medium text-gray-700",children:"Yayın Tarihi"}),(0,s.jsx)("input",{type:"date",id:"publishDate",name:"publishDate",value:u.publishDate?.toString().split("T")[0],onChange:y,required:!0,className:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>t.push("/admin/news"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"İptal"}),(0,s.jsx)("button",{type:"submit",disabled:p,className:`px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${p?"opacity-50 cursor-not-allowed":""}`,children:p?"Kaydediliyor...":"Kaydet"})]})]})]})})}},30177:(e,r,t)=>{"use strict";t.d(r,{newsService:()=>a});var s=t(4795);let a={getAll:async()=>{try{return(await s.A.get("/news")).data}catch(e){if(e&&"object"==typeof e&&"response"in e&&e.response)throw Error(`Failed to fetch news: ${e.response.status} ${e.response.statusText}`);throw Error("Failed to fetch news")}},getById:async e=>{try{return(await s.A.get(`/news/${e}`)).data}catch(e){throw console.error("Error in newsService.getById:",e),e}},create:async e=>{try{return(await s.A.post("/news",e)).data}catch(e){throw console.error("Error in newsService.create:",e),e}},update:async(e,r)=>{try{return(await s.A.put(`/news/${e}`,r)).data}catch(e){throw console.error("Error in newsService.update:",e),e}},delete:async e=>{try{await s.A.delete(`/news/${e}`)}catch(e){throw console.error("Error in newsService.delete:",e),e}}}},89189:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/news/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/barisariburnu/workspace/sporweb/frontend/src/app/admin/news/[id]/page.tsx","default")},29952:(e,r,t)=>{"use strict";t.d(r,{s:()=>i,t:()=>n});var s=t(58009);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function n(...e){return r=>{let t=!1,s=e.map(e=>{let s=a(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():a(e[r],null)}}}}function i(...e){return s.useCallback(n(...e),e)}},12705:(e,r,t)=>{"use strict";t.d(r,{DX:()=>i});var s=t(58009),a=t(29952),n=t(45512),i=s.forwardRef((e,r)=>{let{children:t,...a}=e,i=s.Children.toArray(t),o=i.find(u);if(o){let e=o.props.children,t=i.map(r=>r!==o?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(l,{...a,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,t):null})}return(0,n.jsx)(l,{...a,ref:r,children:t})});i.displayName="Slot";var l=s.forwardRef((e,r)=>{let{children:t,...n}=e;if(s.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t),i=function(e,r){let t={...r};for(let s in r){let a=e[s],n=r[s];/^on[A-Z]/.test(s)?a&&n?t[s]=(...e)=>{n(...e),a(...e)}:a&&(t[s]=a):"style"===s?t[s]={...a,...n}:"className"===s&&(t[s]=[a,n].filter(Boolean).join(" "))}return{...e,...t}}(n,t.props);return t.type!==s.Fragment&&(i.ref=r?(0,a.t)(r,e):e),s.cloneElement(t,i)}return s.Children.count(t)>1?s.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function u(e){return s.isValidElement(e)&&e.type===o}},21643:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var s=t(82281);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,i=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=r,o=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===r)return null;let n=a(r)||a(s);return i[e][n]}),u=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return n(e,o,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...u}[r]):({...l,...u})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,4793,5668,8077,4241,8621,951],()=>t(96731));module.exports=s})();